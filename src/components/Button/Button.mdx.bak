import { Meta, Story, Controls } from '@storybook/blocks';
import * as ButtonStories from './Button.stories';

<Meta of={ButtonStories} />

# Button

The Button component is a versatile, accessible button that supports multiple types, sizes, states, and icon positions. All styling is driven by design tokens, ensuring consistency across the design system.

## Features

- ✅ **4 Button Types**: Filled, Tonal, Link, and Stroke
- ✅ **4 Sizes**: Large, Medium, Small, and Extra Small
- ✅ **4 States**: Normal, Pressed, Disabled, and Loading
- ✅ **4 Icon Positions**: None, Leading, Trailing, and Only
- ✅ **Theme Support**: Automatic light/dark mode switching
- ✅ **Design Tokens**: Fully tokenized with semantic color, spacing, typography, and radius tokens
- ✅ **Accessible**: Proper ARIA labels and keyboard navigation

## Design Tokens

All button styling is driven by design tokens:

### Color Tokens
- **Backgrounds**: `background.filledNormal`, `background.tonalNormal`, etc.
- **Text**: `text.filledText`, `text.tonalText`, `text.linkNormal`, etc.
- **Borders**: `border.strokeNormal`, `border.strokePressed`, etc.
- **Theme-aware**: All colors automatically adapt to light/dark mode

### Spacing Tokens
- **Padding**: Uses `spacing.spacing24`, `spacing.spacing16CardDefault`, etc.
- **Gaps**: Uses `spacing.spacing8`, `spacing.spacing6`, `spacing.spacing4`, etc.
- **Margins**: Uses semantic spacing tokens throughout

### Typography Tokens
- **Large**: `typography.title4SemiBold` (16px, 600 weight)
- **Medium**: `typography.title4SemiBold` (16px, 600 weight)
- **Small**: `typography.bodySemiBold` (14px, 600 weight)
- **Extra Small**: `typography.subtextSemiBold` (12px, 600 weight)

### Radius Tokens
- **Border Radius**: `radius.fullyRounded` (200px) for pill-shaped buttons

## Usage

### Basic Example

```tsx
import { Button } from './components/Button';

function MyComponent() {
  return (
    <Button
      label="Click me"
      type="Filled"
      size="Large"
      onClick={() => console.log('Clicked!')}
    />
  );
}
```

### With Theme

```tsx
import { Button } from './components/Button';
import { useState } from 'react';
import type { ThemeMode } from '../tokens/theme';

function MyComponent() {
  const [mode, setMode] = useState<ThemeMode>('light');
  
  return (
    <Button
      label="Toggle Theme"
      type="Filled"
      mode={mode}
      onClick={() => setMode(mode === 'light' ? 'dark' : 'light')}
    />
  );
}
```

## Button Types

### Filled
Primary action buttons with solid background. Use for the most important actions.

```tsx
<Button type="Filled" label="Primary Action" />
```

### Tonal
Secondary action buttons with tinted background. Use for secondary actions.

```tsx
<Button type="Tonal" label="Secondary Action" />
```

### Link
Text-only buttons with underline. Use for navigation or less prominent actions.

```tsx
<Button type="Link" label="Learn More" />
```

### Stroke
Outlined buttons with border. Use for tertiary actions or when you need visual separation.

```tsx
<Button type="Stroke" label="Cancel" />
```

## Sizes

Buttons come in four sizes:

- **Large** (52px height): Use for primary CTAs and hero sections
- **Medium** (40px height): Use for standard actions
- **Small** (32px height): Use for compact spaces or secondary actions
- **Extra Small** (24px height): Use for dense UIs or inline actions

## States

### Normal
Default interactive state.

### Pressed
Active/pressed state. Automatically applied on click.

### Disabled
Non-interactive state. Use when the action is unavailable.

### Loading
Async action state. Shows a loading spinner.

## Icon Positions

### None
No icon, text only.

### Leading
Icon appears before the text.

### Trailing
Icon appears after the text.

### Only
Icon-only button (circular/square). Label is used for accessibility.

## Token Reference

When you change design tokens, buttons automatically update:

1. **Change primitive color**: `tokens/colorPrimitives.ts`
   ```typescript
   export const actions = {
     primary: '#FF0000', // Changed from '#1576DB'
   }
   ```

2. **Semantic token updates automatically** (references primitive)

3. **Button component updates automatically** (uses semantic token)

See [Token Reference Chain](../../../TOKEN_REFERENCE_CHAIN.md) for more details.

## Accessibility

- ✅ Proper `aria-label` for icon-only buttons
- ✅ Keyboard navigation support
- ✅ Focus states
- ✅ Disabled state properly handled
- ✅ Loading state communicated

## Examples

<Story of={ButtonStories.AllTypes} />

<Story of={ButtonStories.AllSizes} />

<Story of={ButtonStories.AllStates} />

<Story of={ButtonStories.IconPositions} />

<Story of={ButtonStories.Showcase} />

## Props

<Controls of={ButtonStories.Playground} />
